!function(t){function e(r){if(i[r])return i[r].exports;var o=i[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,r){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,i){i(1),i(2),i(3),t.exports=i(4)},function(t,e,i){(void 0)("glsl/renderer",[],function(t,e){"use strict";var i,r,o;e&&e.id;return{setters:[],execute:function(){i=this.require("./2d-vertex-shader.glsl"),r=this.require("./2d-fragment-shader.glsl"),o=function(){function t(){this.canvas=document.getElementById("glscreen"),this.mousePos={x:0,y:0},this.start=(new Date).getTime()}return t.prototype.doStuff=function(){window.onload=this.init},t.prototype.getMousePos=function(t,e){var i=t.getBoundingClientRect(),r=e;return{x:(r.clientX-i.left)/(i.right-i.left)*t.width,y:(r.clientY-i.bottom)/(i.top-i.bottom)*t.height}},t.prototype.viewportToPixels=function(t){var e=t.match(/([0-9\.]+)(vh|vw)/),i=Number(e[1]),r=[[window.innerHeight,window.innerWidth][["vh","vw"].indexOf(e[2])]];return{x:r[1]*(i/100),y:r[0]*(i/100)}},t.prototype.getSize=function(){this.canvas.style.width=this.viewportToPixels(this.canvas.style.width).x+"px",this.canvas.style.height=this.viewportToPixels(this.canvas.style.height).y+"px"},t.prototype.addListeners=function(){var t=this;this.canvas.addEventListener("mousemove",function(e){return t.mousePos=t.getMousePos(t.canvas,e)},!1),this.canvas.addEventListener("touchmove",function(e){return t.mousePos=t.getMousePos(t.canvas,e)},!1),window.onresize=function(){return t.getSize()}},t.prototype.init=function(){var t,e;this.addListeners(),this.getSize(),this.gl=this.canvas.getContext("experimental-webgl");var o=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),this.gl.STATIC_DRAW),this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight),t=this.gl.createShader(this.gl.VERTEX_SHADER),this.gl.shaderSource(t,i),this.gl.compileShader(t),e=this.gl.createShader(this.gl.FRAGMENT_SHADER),this.gl.shaderSource(e,r),this.gl.compileShader(e),this.program=this.gl.createProgram(),this.gl.attachShader(this.program,t),this.gl.attachShader(this.program,e),this.gl.linkProgram(this.program),this.gl.useProgram(this.program),this.render()},t.prototype.addGLProperties=function(){var t=this.gl.getAttribLocation(this.program,"position");this.gl.enableVertexAttribArray(t),this.gl.vertexAttribPointer(t,2,this.gl.FLOAT,!0,0,0);var e=this.gl.getUniformLocation(this.program,"mouse");this.gl.uniform2f(e,this.mousePos.x,this.mousePos.y);var i=this.gl.getUniformLocation(this.program,"resolution");this.gl.uniform2f(i,this.canvas.width,this.canvas.height);var r=this.gl.getUniformLocation(this.program,"rotation");this.gl.uniform2f(r,.5,.8);var o=this.gl.getUniformLocation(this.program,"time");this.gl.uniform1f(o,((new Date).getTime()-this.start)/1e3);var n=this.gl.getUniformLocation(this.program,"offset");this.gl.uniform2f(n,0,0);var s=this.gl.getUniformLocation(this.program,"pitch");this.gl.uniform2f(s,80,80)},t.prototype.render=function(){window.requestAnimationFrame(this.render),this.addGLProperties(),this.gl.drawArrays(this.gl.TRIANGLES,0,6)},t}(),t("Renderer",o)}}}),(void 0)("index",["glsl/renderer"],function(t,e){"use strict";var i,r;e&&e.id;return{setters:[function(t){i=t}],execute:function(){r=new i.Renderer,r.doStuff()}}})},function(t,e,i){(void 0)("glsl/renderer",[],function(t,e){"use strict";var i,r,o;e&&e.id;return{setters:[],execute:function(){i=this.require("./2d-vertex-shader.glsl"),r=this.require("./2d-fragment-shader.glsl"),o=function(){function t(){this.canvas=document.getElementById("glscreen"),this.mousePos={x:0,y:0},this.start=(new Date).getTime()}return t.prototype.doStuff=function(){window.onload=this.init},t.prototype.getMousePos=function(t,e){var i=t.getBoundingClientRect(),r=e;return{x:(r.clientX-i.left)/(i.right-i.left)*t.width,y:(r.clientY-i.bottom)/(i.top-i.bottom)*t.height}},t.prototype.viewportToPixels=function(t){var e=t.match(/([0-9\.]+)(vh|vw)/),i=Number(e[1]),r=[[window.innerHeight,window.innerWidth][["vh","vw"].indexOf(e[2])]];return{x:r[1]*(i/100),y:r[0]*(i/100)}},t.prototype.getSize=function(){this.canvas.style.width=this.viewportToPixels(this.canvas.style.width).x+"px",this.canvas.style.height=this.viewportToPixels(this.canvas.style.height).y+"px"},t.prototype.addListeners=function(){var t=this;this.canvas.addEventListener("mousemove",function(e){return t.mousePos=t.getMousePos(t.canvas,e)},!1),this.canvas.addEventListener("touchmove",function(e){return t.mousePos=t.getMousePos(t.canvas,e)},!1),window.onresize=function(){return t.getSize()}},t.prototype.init=function(){var t,e;this.addListeners(),this.getSize(),this.gl=this.canvas.getContext("experimental-webgl");var o=this.gl.createBuffer();this.gl.bindBuffer(this.gl.ARRAY_BUFFER,o),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),this.gl.STATIC_DRAW),this.gl.viewport(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight),t=this.gl.createShader(this.gl.VERTEX_SHADER),this.gl.shaderSource(t,i),this.gl.compileShader(t),e=this.gl.createShader(this.gl.FRAGMENT_SHADER),this.gl.shaderSource(e,r),this.gl.compileShader(e),this.program=this.gl.createProgram(),this.gl.attachShader(this.program,t),this.gl.attachShader(this.program,e),this.gl.linkProgram(this.program),this.gl.useProgram(this.program),this.render()},t.prototype.addGLProperties=function(){var t=this.gl.getAttribLocation(this.program,"position");this.gl.enableVertexAttribArray(t),this.gl.vertexAttribPointer(t,2,this.gl.FLOAT,!0,0,0);var e=this.gl.getUniformLocation(this.program,"mouse");this.gl.uniform2f(e,this.mousePos.x,this.mousePos.y);var i=this.gl.getUniformLocation(this.program,"resolution");this.gl.uniform2f(i,this.canvas.width,this.canvas.height);var r=this.gl.getUniformLocation(this.program,"rotation");this.gl.uniform2f(r,.5,.8);var o=this.gl.getUniformLocation(this.program,"time");this.gl.uniform1f(o,((new Date).getTime()-this.start)/1e3);var n=this.gl.getUniformLocation(this.program,"offset");this.gl.uniform2f(n,0,0);var s=this.gl.getUniformLocation(this.program,"pitch");this.gl.uniform2f(s,80,80)},t.prototype.render=function(){window.requestAnimationFrame(this.render),this.addGLProperties(),this.gl.drawArrays(this.gl.TRIANGLES,0,6)},t}(),t("Renderer",o)}}}),(void 0)("index",["glsl/renderer"],function(t,e){"use strict";var i,r;e&&e.id;return{setters:[function(t){i=t}],execute:function(){r=new i.Renderer,r.doStuff()}}})},function(t,e){t.exports="\r\nattribute vec2 position;\r\n  void main() {\r\n    gl_Position = vec4(position, 0, 1);\r\n  }"},function(t,e){t.exports="precision mediump float;\r\n\r\nuniform float time;\r\nuniform vec2 mouse;\r\nuniform vec2 resolution;\r\nuniform vec2 rotation;\r\nuniform vec2 pitch; // number of grids\r\n\r\nvec4 grid(float modX, float modY, float distance) {\r\n  float strength = 0.5 * (1.0 - abs((2.0-min(modX, modY))/2.0)); // grid alpa 0.5 and then anti alias.\r\n  float fade = max(0.0, 0.9-distance/length(resolution)); // 1.2 due to some scaling\r\n  return vec4(0.0, 0.0, 0.0, strength*fade);\r\n}\r\n\r\nvoid main() {\r\n  float gravity = 50.0;// + 50.0*sin(time*4.0);\r\n  float reach = 10000.0;\r\n\r\n  vec2 delta = mouse-gl_FragCoord.xy;\r\n  float distance = length(delta);\r\n  vec2 newPos = pitch + delta*gravity/((distance*distance + reach)); // gravity\r\n\r\n  float modX = mod(reach + gl_FragCoord.x, newPos.x);\r\n  float modY = mod(reach + gl_FragCoord.y, newPos.y);\r\n  \r\n  gl_FragColor = grid(modX, modY, distance);\r\n}"}]);