{"version":3,"sources":["webpack:///webpack/bootstrap 50132c48b8efaa9c527f","webpack:///./src/index.ts","webpack:///./src/renderer.ts","webpack:///./src/glsl/2d-vertex-shader.glsl","webpack:///./src/glsl/2d-fragment-shader.glsl"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 50132c48b8efaa9c527f","// index.\r\nimport { Renderer, IRenderable } from \"./renderer\";\r\nimport * as $ from \"jquery\";\r\n\r\nlet renderer:IRenderable = new Renderer();\r\nrenderer.renderOnCanvas(<HTMLElement> document.getElementById(\"grid\"));\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","declare function require(name:string):any;\r\nlet vertexShaderSource:any = require(\"./glsl/2d-vertex-shader.glsl\");\r\nlet fragmentShaderSource:any = require(\"./glsl/2d-fragment-shader.glsl\");\r\n\r\nexport interface IRenderable {\r\n    renderOnCanvas(canvas : HTMLElement): void;\r\n}\r\n\r\nclass Renderer implements IRenderable {\r\n    private gl:WebGLRenderingContext;\r\n    private program:WebGLProgram;\r\n    private canvas:HTMLCanvasElement;\r\n    private mousePos = { x: 0.0, y: 0.0 };\r\n    private oldMousePos = { x: 0.0, y: 0.0 };\r\n    private delta:{x:number, y:number} = undefined;\r\n    private start:number = new Date().getTime();\r\n    private lastInput:number = 3;\r\n    private isInput: boolean = false;\r\n\r\n    renderOnCanvas (div : HTMLElement): void {\r\n        this.canvas = document.createElement(\"canvas\");\r\n        this.canvas.style.width = \"100%\";\r\n        this.canvas.style.height = \"100%\";\r\n        div.appendChild(this.canvas);\r\n        this.gl = this.canvas.getContext(\"experimental-webgl\");\r\n        window.onload = () => this.init();\r\n    }\r\n\r\n    getMousePos(canvas:HTMLCanvasElement, evt:Event): {x:number, y:number} {\r\n        var rect : ClientRect = canvas.getBoundingClientRect();\r\n        var mouseEvt : MouseEvent = <MouseEvent> evt;\r\n        return {\r\n            x: (mouseEvt.clientX - rect.left) / (rect.right - rect.left) * canvas.width,\r\n            y: (mouseEvt.clientY - rect.bottom) / (rect.top - rect.bottom) * canvas.height\r\n        };\r\n    }\r\n\r\n    getTouchPos(canvas:HTMLCanvasElement, evt:Event): {x:number, y:number} {\r\n        var rect : ClientRect = canvas.getBoundingClientRect();\r\n        var touchEvt : TouchEvent = <TouchEvent> evt;\r\n        return {\r\n            x: (touchEvt.touches[0].clientX - rect.left) / (rect.right - rect.left) * canvas.width,\r\n            y: (touchEvt.touches[0].clientY - rect.bottom) / (rect.top - rect.bottom) * canvas.height\r\n        };\r\n    }\r\n\r\n    viewportToPixels(value:string, isHeight:boolean): number {\r\n        var parts: RegExpMatchArray = value.match(/([0-9\\.]+)(vh|vw)/);\r\n        var q: number = Number(parts[1]);\r\n        if(isHeight) {\r\n            return window.innerHeight * (q / 100);\r\n        } else {\r\n            return window.innerWidth * (q / 100);\r\n        }\r\n    }\r\n\r\n    getSize(): void {\r\n        this.canvas.width = this.canvas.clientWidth;\r\n        this.canvas.height = this.canvas.clientHeight;\r\n    }\r\n\r\n    setTimedInterval(callback:()=>void, delay:number, timeout:number): void {\r\n        var id:number = window.setInterval(callback, delay);\r\n        window.setTimeout(()=> {\r\n            window.clearInterval(id);\r\n        }, timeout);\r\n    }\r\n\r\n    addListeners(): void {\r\n        this.canvas.addEventListener(\"mouseenter\", (evt) => {\r\n            this.isInput = true;\r\n            this.delta = undefined;\r\n        }, true);\r\n        this.canvas.addEventListener(\"touchstart\", (evt) => {\r\n            this.isInput = true;\r\n            this.delta = undefined;\r\n            this.mousePos = this.getTouchPos(this.canvas, evt);\r\n        }, true);\r\n\r\n        this.canvas.addEventListener(\"mousemove\", (evt) => {\r\n            this.oldMousePos = this.mousePos;\r\n            this.mousePos = this.getMousePos(this.canvas, evt);\r\n        }, false);\r\n        this.canvas.addEventListener(\"touchmove\", (evt) => {\r\n            this.oldMousePos = this.mousePos;\r\n            this.mousePos = this.getTouchPos(this.canvas, evt);\r\n        }, false);\r\n\r\n        this.canvas.addEventListener(\"touchend\", (evt) =>  {\r\n            this.delta = { x: this.mousePos.x-this.oldMousePos.x, y: this.mousePos.y-this.oldMousePos.y };\r\n            this.setTimedInterval(()=> {\r\n                if (this.delta) {\r\n                    this.mousePos = {\r\n                        x:this.mousePos.x + this.delta.x*(this.lastInput)/250,\r\n                        y: this.mousePos.y + this.delta.y*(this.lastInput)/250\r\n                    };\r\n                }\r\n            }, 18, 1000);\r\n\r\n            this.isInput = false;\r\n        }, false);\r\n\r\n        this.canvas.addEventListener(\"mouseleave\", (evt) =>  {\r\n            this.isInput = false;\r\n        }, false);\r\n        window.onresize = () => setTimeout(() => this.getSize(), 1);\r\n    }\r\n\r\n    init(): void {\r\n        var vertexShader: WebGLShader;\r\n        var fragmentShader: WebGLShader;\r\n\r\n        this.addListeners();\r\n        this.getSize();\r\n\r\n        var buffer: WebGLBuffer = this.gl.createBuffer();\r\n        this.gl.bindBuffer(this.gl.ARRAY_BUFFER, buffer);\r\n        this.gl.bufferData(\r\n            this.gl.ARRAY_BUFFER,\r\n            new Float32Array([-1.0, -1.0,\r\n                1.0, -1.0, -1.0, 1.0, -1.0, 1.0,\r\n                1.0, -1.0,\r\n                1.0, 1.0\r\n            ]),\r\n            this.gl.STATIC_DRAW\r\n        );\r\n\r\n        this.gl.viewport(0, 0, this.gl.drawingBufferWidth, this.gl.drawingBufferHeight);\r\n\r\n        vertexShader = this.gl.createShader(this.gl.VERTEX_SHADER);\r\n        this.gl.shaderSource(vertexShader, vertexShaderSource);\r\n        this.gl.compileShader(vertexShader);\r\n\r\n        fragmentShader = this.gl.createShader(this.gl.FRAGMENT_SHADER);\r\n        this.gl.shaderSource(fragmentShader, fragmentShaderSource);\r\n        this.gl.compileShader(fragmentShader);\r\n\r\n        this.program = this.gl.createProgram();\r\n        this.gl.attachShader(this.program, vertexShader);\r\n        this.gl.attachShader(this.program, fragmentShader);\r\n        this.gl.linkProgram(this.program);\r\n        this.gl.useProgram(this.program);\r\n\r\n        this.render();\r\n    }\r\n\r\n    addGLProperties(): void {\r\n        var positionLocation:number = this.gl.getAttribLocation(this.program, \"position\");\r\n        this.gl.enableVertexAttribArray(positionLocation);\r\n        this.gl.vertexAttribPointer(positionLocation, 2, this.gl.FLOAT, true, 0, 0);\r\n\r\n        var mousePosition:WebGLUniformLocation = this.gl.getUniformLocation(this.program, \"mouse\");\r\n        this.gl.uniform2f(mousePosition, this.mousePos.x, this.mousePos.y);\r\n\r\n        var resolutionPosition:WebGLUniformLocation = this.gl.getUniformLocation(this.program, \"resolution\");\r\n        this.gl.uniform2f(resolutionPosition, this.canvas.width, this.canvas.height);\r\n\r\n        var rotationPosition:WebGLUniformLocation = this.gl.getUniformLocation(this.program, \"rotation\");\r\n        this.gl.uniform2f(rotationPosition, 0.5, 0.8);\r\n\r\n        var timePosition:WebGLUniformLocation = this.gl.getUniformLocation(this.program, \"time\");\r\n        this.gl.uniform1f(timePosition, (new Date().getTime() - this.start) / 1000);\r\n\r\n        var strengthPosition:WebGLUniformLocation = this.gl.getUniformLocation(this.program, \"strength\");\r\n        this.gl.uniform1f(strengthPosition, this.lastInput/100.0);\r\n\r\n        var offsetPosition:WebGLUniformLocation = this.gl.getUniformLocation(this.program, \"offset\");\r\n        this.gl.uniform2f(offsetPosition, 0, 0);\r\n\r\n        var pitchPosition:WebGLUniformLocation = this.gl.getUniformLocation(this.program, \"pitch\");\r\n        this.gl.uniform2f(pitchPosition, 80, 80);\r\n    }\r\n\r\n    render(): void {\r\n        this.addGLProperties();\r\n\r\n        this.gl.drawArrays(this.gl.TRIANGLES, 0, 6);\r\n\r\n        requestAnimationFrame(() => this.render());\r\n        if (!this.isInput && this.lastInput > 3) {\r\n            this.lastInput-=2;\r\n        } else if (this.isInput && this.lastInput < 150) {\r\n            this.lastInput+=5;\r\n        }\r\n    }\r\n}\r\n\r\nexport { Renderer };\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/renderer.ts","module.exports = \"\\r\\nattribute vec2 position;\\r\\n  void main() {\\r\\n    gl_Position = vec4(position, 0, 1);\\r\\n  }\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/glsl/2d-vertex-shader.glsl\n// module id = 3\n// module chunks = 0","module.exports = \"precision highp float;\\r\\n\\r\\nuniform float time;\\r\\nuniform float strength;\\r\\nuniform vec2 mouse;\\r\\nuniform vec2 resolution;\\r\\nuniform vec2 rotation;\\r\\nuniform vec2 pitch; // number of grids\\r\\n\\r\\nvec4 grid(float modX, float modY, float distance) {\\r\\n  float density = 0.5 * (1.0 - abs((2.0-min(modX, modY))/2.0)); // grid alpa 0.5 and then anti alias.\\r\\n  float fade = max(0.0, 0.9-distance/length(resolution)); // 1.2 due to some scaling\\r\\n  return vec4(0.0, 0.0, 0.0, density*fade*min(1.0, max(0.7, strength)));\\r\\n}\\r\\n\\r\\nvoid main() {\\r\\n  float gravity = 40.0*strength;// + 1.5*sin(time*8.0);\\r\\n  float reach = 10000.0;\\r\\n\\r\\n  vec2 delta = mouse-gl_FragCoord.xy;\\r\\n  float distance = length(delta);\\r\\n  vec2 newPos = pitch + delta*gravity/((distance*distance + reach)); // gravity\\r\\n\\r\\n  float modX = mod(reach + gl_FragCoord.x, newPos.x);\\r\\n  float modY = mod(reach + gl_FragCoord.y, newPos.y);\\r\\n  \\r\\n  gl_FragColor = grid(modX, modY, distance);\\r\\n}\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/glsl/2d-fragment-shader.glsl\n// module id = 4\n// module chunks = 0"],"sourceRoot":""}